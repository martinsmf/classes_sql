INSERT INTO CLIENTE VALUES('CARLA', 'F', 'C.LOPES@GMAIL.COM', 45638854, '93017598', 'rUA COPPER LEAF - WILLIAMSBURG - KITCHENER');

SELECT SEXO, COUNT(*) AS QTD
FROM CLIENTE 
GROUP BY SEXO;

/* PROMEIRA FORMA NORMAL CLASS 40 */

/* 
    1 - TODO CAMPO VETORIZADO SE TORNÁRA OUTRA TABELA: PARA SER UM VETOR TODOS OS DADOS TEM QUE SER DA MESMA FAMILIA, MESMO TIPO
    2 - TODO CAMPO MULTIVALORADO SE TORNÁRA OUTRA TRABELA. qUANDO O CAMPO FOR DIVISÍVEL
    3 - TODA TABELA NECESSITA DE PELO MENOS UM CAMPO QUE IDENTIFIQUE TODO O REGISTRO COMO SENDO UNICO: PRIMARY KEY
 */

/* new databese */

CREATE DATABASE COMERCIO;

USE COMERCIO;

CREATE TABLE CLIENTE(
    IDCLIENTE INT PRIMARY KEY AUTO_INCREMENT,
    NOME VARCHAR(30) NOT NULL,
    SEXO ENUM('M', 'F') NOT NULL,
    EMAIL VARCHAR(50) UNIQUE,
    CPF VARCHAR(15) UNIQUE
);

CREATE TABLE ENDERECO(
    IDENDERECO INT PRIMARY KEY AUTO_INCREMENT,
    RUA VARCHAR(30) NOT NULL,
    BAIRRO VARCHAR(30) NOT NULL,
    CIDADE VARCHAR(30) NOT NULL,
    ESTADO CHAR(2) NOT NULL,
    ID_CLIENTE INT UNIQUE,
    FOREIGN KEY(ID_CLIENTE) REFERENCES CLIENTE(IDCLIENTE)
);

CREATE TABLE TELEFONE(
    IDTELEFONE INT PRIMARY KEY AUTO_INCREMENT,
    TIPO ENUM('RES', 'COM', 'CEL') NOT NULL,
    NUMERO VARCHAR(10) NOT NULL,
    ID_CLIENTE INT,
    FOREIGN KEY(ID_CLIENTE) REFERENCES CLIENTE(IDCLIENTE)
);

/* ENDEREÇO - OBRIGATÓRIO
   CADASTRO DE SOMENTE UM

   TELEFONE - NÃO OBRIGATÓRIO
   CADASTRO DE MAIS DE UM (OPICIONAL)
 */

/* EM RELACIONAMENTOS 1 x 1 A CHAVE ESTRANGEIRA FINA NA TABLEA MAIS FRACA */
/* EM RELACIONAMENTOS 1 x N A CHAVE ESTRANGEIRA FICARA SEMPRE NA CARDINALIDADE N */

INSERT INTO CLIENTE VALUES(NULL, 'JOÃO', 'M', 'JOAO@IG.COM','78907651223');
INSERT INTO CLIENTE VALUES(NULL, 'CARLOS', 'M', 'CARLOS@IG.COM','78904365123');
INSERT INTO CLIENTE VALUES(NULL, 'ANA', 'F', 'ANA@IG.COM','78907651789');
INSERT INTO CLIENTE VALUES(NULL, 'CLARA', 'F', NULL,'55076512273');
INSERT INTO CLIENTE VALUES(NULL, 'JORGE', 'M', 'JORGE@IG.COM','78907651222');
INSERT INTO CLIENTE VALUES(NULL, 'CELIA', 'F', 'CELIA@IG.COM','78907278223');

INSERT INTO ENDERECO VALUES(NULL, 'RUA ANTONIO SA', 'CENTRO', 'B. HORIZONTE', 'MG', 9);
INSERT INTO ENDERECO VALUES(NULL, 'RUA CAPITAO HERMES', 'CENTRO', 'RIO DE JANEIRO', 'RJ', 1);
INSERT INTO ENDERECO VALUES(NULL, 'RUA PRESIDENTE VARGAS', 'JARDINS', 'SAO PAULO', 'SP', 8);
INSERT INTO ENDERECO VALUES(NULL, 'RUA ALFANDEGA', 'ESTACIO', 'RIO DE JANEIRO', 'RJ', 7);
INSERT INTO ENDERECO VALUES(NULL, 'RUA DO OUVIDOR', 'FLAMENGO', 'RIO DE JANEIRO', 'RJ', 11);
INSERT INTO ENDERECO VALUES(NULL, 'RUA URUGUAIANA', 'CENTRO', 'VITORIA', 'ES', 10);

INSERT INTO ENDERECO VALUES(NULL, 'RUA ALFANDEGA', 'CENTRO', 'SAO PAULO', 'SP', 10);

INSERT INTO TELEFONE VALUES(NULL, 'CEL', '434563234', 10);
INSERT INTO TELEFONE VALUES(NULL, 'RES', '978887988', 10);
INSERT INTO TELEFONE VALUES(NULL, 'CEL', '234432354', 1);
INSERT INTO TELEFONE VALUES(NULL, 'COM', '123343353', 7);
INSERT INTO TELEFONE VALUES(NULL, 'RES', '765123094', 1);
INSERT INTO TELEFONE VALUES(NULL, 'CEL', '980563454', 8);
INSERT INTO TELEFONE VALUES(NULL, 'CEL', '345676355', 8);
INSERT INTO TELEFONE VALUES(NULL, 'RES', '324567210', 1);
INSERT INTO TELEFONE VALUES(NULL, 'COM', '000000000', 5);
INSERT INTO TELEFONE VALUES(NULL, 'CEL', '999999999', 7);